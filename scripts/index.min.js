!function i(c,u,d){function l(t,e){if(!u[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=u[t]={exports:{}};c[t][0].call(r.exports,function(e){return l(c[t][1][e]||e)},r,r.exports,i,c,u,d)}return u[t].exports}for(var a="function"==typeof require&&require,e=0;e<d.length;e++)l(d[e]);return l}({1:[function(e,t,n){t.exports=function(t,n){var o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){if(200===o.status)n(null,JSON.parse(o.responseText));else{var e=new Error("Cannot get "+t);n(e)}},o.send()}},{}],2:[function(e,t,n){var o=e("./get-json.js");var r=window["pdfjs-dist/build/pdf"];r.GlobalWorkerOptions.workerSrc="/scripts/pdf.worker.js";var i,c,u,d,l=null,a=1,s=!1,m=null,p=document.getElementById("canvas"),f=p.getContext("2d");function g(e){s=!0,l.getPage(e).then(function(e){var t=document.getElementById("inputs").offsetWidth,n=e.getViewport({scale:t/e.getViewport({scale:1}).width});p.height=n.height,p.width=n.width;var o={canvasContext:f,viewport:n};e.render(o).promise.then(function(){s=!1,null!==m&&(g(m),m=null)})}),document.getElementById("page_num").textContent=e}function y(e){s?m=e:g(e)}function v(e,t){if(e.hasOwnProperty(t)){document.getElementById("no-data").style.display="none",document.getElementById("data-received").style.display="block",document.getElementById("reader-container").style.display="block",document.getElementById("inputs").style.display="block",document.getElementById("document-title").innerHTML=e[t].name;var n=e[t].url;r.getDocument(n).promise.then(function(e){l=e,document.getElementById("page_count").textContent=l.numPages,g(a=1)})}}function w(e,t,n){var o=document.createElement("a");o.href="/#doc="+t,o.textContent=e[t].name,o.setAttribute("key",t),o.onclick=function(){console.log("key"),console.log(o.getAttribute("key")),v(e,o.getAttribute("key"))};var r=document.createElement("li");r.appendChild(o),n.appendChild(r)}document.getElementById("prev").addEventListener("click",function(){a<=1||y(--a)}),document.getElementById("next").addEventListener("click",function(){a>=l.numPages||y(++a)}),window.addEventListener("resize",(c=function(){i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(function(){g(a)})},u=100,d=null,function(){var e=this,t=arguments;clearTimeout(d),d=setTimeout(function(){c.apply(e,t)},u)})),o("/documents.json",function(e,t){e&&console.error(e);var n=document.getElementById("list"),o=document.createElement("ul");for(var r in t)t[r].public&&w(t,r,o);n.appendChild(o);var i,c=(i={},window.location.href.replace(/[#&]+([^=&]+)=([^&]*)/gi,function(e,t,n){i[t]=decodeURIComponent(n)}),i),u="";c.hasOwnProperty("livre")&&(u=c.livre),c.hasOwnProperty("doc")&&(u=c.doc),""!=u&&v(t,u)})},{"./get-json.js":1}]},{},[2]);