!function i(c,d,u){function a(n,e){if(!d[n]){if(!c[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=d[n]={exports:{}};c[n][0].call(r.exports,function(e){return a(c[n][1][e]||e)},r,r.exports,i,c,d,u)}return d[n].exports}for(var l="function"==typeof require&&require,e=0;e<u.length;e++)a(u[e]);return a}({1:[function(e,n,t){n.exports=function(n,t){var o=new XMLHttpRequest;o.open("GET",n),o.onload=function(){if(200===o.status)t(null,JSON.parse(o.responseText));else{var e=new Error("Cannot get "+n);t(e)}},o.send()}},{}],2:[function(e,n,t){var o=e("./get-json.js");var r=window["pdfjs-dist/build/pdf"];r.GlobalWorkerOptions.workerSrc="/scripts/pdf.worker.js";var i,c,d,u,a=null,l=1,s=!1,m=null,p=document.getElementById("canvas"),f=p.getContext("2d");function g(e){s=!0,a.getPage(e).then(function(e){var n=document.getElementById("inputs").offsetWidth,t=e.getViewport({scale:n/e.getViewport({scale:1}).width});p.height=t.height,p.width=t.width;var o={canvasContext:f,viewport:t};e.render(o).promise.then(function(){s=!1,null!==m&&(g(m),m=null)})}),document.getElementById("page_num").textContent=e}function v(e){s?m=e:g(e)}function y(e,n){if(e.hasOwnProperty(n)){document.getElementById("no-data").style.display="none",document.getElementById("data-received").style.display="block",document.getElementById("reader-container").style.display="block",document.getElementById("inputs").style.display="block",document.getElementById("document-title").innerHTML=e[n].name;var t=e[n].url;r.getDocument(t).promise.then(function(e){a=e,document.getElementById("page_count").textContent=a.numPages,g(l=1)})}}document.getElementById("prev").addEventListener("click",function(){l<=1||v(--l)}),document.getElementById("next").addEventListener("click",function(){l>=a.numPages||v(++l)}),window.addEventListener("resize",(c=function(){i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(function(){g(l)})},d=100,u=null,function(){var e=this,n=arguments;clearTimeout(u),u=setTimeout(function(){c.apply(e,n)},d)})),o("/documents.json",function(e,n){e&&console.error(e);var t=document.getElementById("list"),o=document.createElement("ul");for(var r in n)if(n[r].public){var i=document.createElement("a");i.href="/#doc="+r,i.textContent=n[r].name,i.onclick=function(){y(n,r)};var c=document.createElement("li");c.appendChild(i),o.appendChild(c)}t.appendChild(o);var d,u=(d={},window.location.href.replace(/[#&]+([^=&]+)=([^&]*)/gi,function(e,n,t){d[n]=decodeURIComponent(t)}),d),a="";u.hasOwnProperty("livre")&&(a=u.livre),u.hasOwnProperty("doc")&&(a=u.doc),""!=a&&y(n,a)})},{"./get-json.js":1}]},{},[2]);