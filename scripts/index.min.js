!function i(u,c,d){function s(t,e){if(!c[t]){if(!u[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[t]={exports:{}};u[t][0].call(r.exports,function(e){return s(u[t][1][e]||e)},r,r.exports,i,u,c,d)}return c[t].exports}for(var a="function"==typeof require&&require,e=0;e<d.length;e++)s(d[e]);return s}({1:[function(e,t,n){t.exports=function(t,n){var o=new XMLHttpRequest;o.open("GET",t),o.onload=function(){if(200===o.status)n(null,JSON.parse(o.responseText));else{var e=new Error("Cannot get "+t);n(e)}},o.send()}},{}],2:[function(e,t,n){e("./get-json.js");function o(){var o={};return window.location.href.replace(/[#&]+([^=&]+)=([^&]*)/gi,function(e,t,n){o[t]=decodeURIComponent(n)}),o}document.getElementById("reader-container"),o();console.log(o());var r=window["pdfjs-dist/build/pdf"];r.GlobalWorkerOptions.workerSrc="/scripts/pdf.worker.js";var i=null,u=1,c=!1,d=null,s=document.getElementById("canvas"),a=s.getContext("2d");function l(e){c=!0,i.getPage(e).then(function(e){var t=document.getElementById("inputs").offsetWidth;console.log(t);var n=e.getViewport({scale:t/e.getViewport({scale:1}).width});s.height=n.height,s.width=n.width;var o={canvasContext:a,viewport:n};e.render(o).promise.then(function(){c=!1,null!==d&&(l(d),d=null)})}),document.getElementById("page_num").textContent=e}function f(e){c?d=e:l(e)}document.getElementById("prev").addEventListener("click",function(){u<=1||f(--u)}),document.getElementById("next").addEventListener("click",function(){u>=i.numPages||f(++u)}),r.getDocument("/documents/balades_histoire_dabo.pdf").promise.then(function(e){i=e,document.getElementById("page_count").textContent=i.numPages,l(u)})},{"./get-json.js":1}]},{},[2]);