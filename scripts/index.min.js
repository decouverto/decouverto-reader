!function i(u,c,a){function d(n,e){if(!c[n]){if(!u[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(s)return s(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[n]={exports:{}};u[n][0].call(r.exports,function(e){return d(u[n][1][e]||e)},r,r.exports,i,u,c,a)}return c[n].exports}for(var s="function"==typeof require&&require,e=0;e<a.length;e++)d(a[e]);return d}({1:[function(e,n,t){n.exports=function(n,t){var o=new XMLHttpRequest;o.open("GET",n),o.onload=function(){if(200===o.status)t(null,JSON.parse(o.responseText));else{var e=new Error("Cannot get "+n);t(e)}},o.send()}},{}],2:[function(e,n,t){e("./get-json.js");function o(){var o={};return window.location.href.replace(/[#&]+([^=&]+)=([^&]*)/gi,function(e,n,t){o[n]=decodeURIComponent(t)}),o}o();console.log(o());var r=window["pdfjs-dist/build/pdf"];r.GlobalWorkerOptions.workerSrc="/scripts/pdf.worker.js";var i,u,c,a,d=null,s=1,l=!1,f=null,p=document.getElementById("canvas"),m=p.getContext("2d");function g(e){l=!0,d.getPage(e).then(function(e){var n=document.getElementById("inputs").offsetWidth,t=e.getViewport({scale:n/e.getViewport({scale:1}).width});p.height=t.height,p.width=t.width;var o={canvasContext:m,viewport:t};e.render(o).promise.then(function(){l=!1,null!==f&&(g(f),f=null)})}),document.getElementById("page_num").textContent=e}function w(e){l?f=e:g(e)}document.getElementById("prev").addEventListener("click",function(){s<=1||w(--s)}),document.getElementById("next").addEventListener("click",function(){s>=d.numPages||w(++s)}),r.getDocument("/documents/balades_histoire_dabo.pdf").promise.then(function(e){d=e,document.getElementById("page_count").textContent=d.numPages,g(s)}),window.addEventListener("resize",(u=function(){i&&window.cancelAnimationFrame(i),i=window.requestAnimationFrame(function(){g(s)})},c=100,a=null,function(){var e=this,n=arguments;clearTimeout(a),a=setTimeout(function(){u.apply(e,n)},c)}))},{"./get-json.js":1}]},{},[2]);